# GENERATED BY optimus-cli â€” DO NOT EDIT
# To modify, update config/languages.json and run: optimus-cli render-k8s
apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: optimus-worker-rust-retry-scaler
  namespace: optimus
  labels:
    language: rust
    queue: retry
spec:
  scaleTargetRef:
    name: optimus-worker-rust  # Target language-specific deployment
  minReplicaCount: 0  # Scale to zero when idle
  maxReplicaCount: 10  # Lower ceiling for retry queue
  pollingInterval: 30  # Poll every 30 seconds (less aggressive)
  cooldownPeriod: 120  # Wait 2 minutes before scaling down
  triggers:
  - type: redis
    metadata:
      # Redis connection
      address: redis:6379
      # Queue name for rust retry jobs
      listName: optimus:queue:rust:retry
      # Scale up when queue has 1 or more items
      listLength: "1"
      # Use password if Redis is secured (optional)
      # passwordFromEnv: REDIS_PASSWORD
